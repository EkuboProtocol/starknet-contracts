// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -10000 token0 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -10000 token1 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "AMOUNT_BEFORE_FEE_OVERFLOW",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 70,
    "range_check_builtin_applications": 2001,
    "steps": 38025,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 1948,
    "steps": 32908,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 2062,
    "steps": 34350,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2287,
    "steps": 36549,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 1921,
    "steps": 34080,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2348,
    "steps": 36366,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 79228162514264337593543950336n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 70,
    "range_check_builtin_applications": 2001,
    "steps": 38026,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e9 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 79228162514264337593543950336n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 448,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 1948,
    "steps": 32909,
  },
  "liquidity_after": 100000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": -10000n,
    "amount1": 10032n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2281,
    "steps": 36718,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920941866287043816850431081895n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 10032n,
    "amount1": -10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 81,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2320,
    "steps": 44570,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920935060639705398047133577709n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -500000000000000000n,
    "amount1": 1003009027081243732n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2257,
    "steps": 37897,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": -999999999999999996n,
    "amount1": 18466747002319258406770079872888746570n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 299,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 146,
    "range_check_builtin_applications": 11548,
    "steps": 125216,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1003009027081243732n,
    "amount1": -500000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 3083,
    "steps": 41586,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 18466747002319258406770079872888746569n,
    "amount1": -999999999999999994n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 327,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 12418,
    "steps": 133856,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": -9969n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 81,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2250,
    "steps": 44502,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920935070848176405709111855138n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": -9969n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2224,
    "steps": 36644,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920941856078572809188248941300n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -499248873309964947n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2516,
    "steps": 38289,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170396778628411849505946223050459795422n,
  "tick_after": -1383293n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -499248873309964947n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2741,
    "steps": 40488,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170396778628411849505946223050459795422n,
  "tick_after": -1383293n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -499248873309964947n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2401,
    "steps": 37976,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 679543886741114111536359091041241118277n,
  "tick_after": 1383292n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": -499248873309964947n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2828,
    "steps": 40263,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 679543886741114111536359091041241118277n,
  "tick_after": 1383292n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 79228162514264337593543950336n,
    "amount1": -999999999987340232n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 945,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 108,
    "range_check_builtin_applications": 25373,
    "steps": 238350,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 4307890968852183321656454888n,
  "tick_after": -50185212n,
}
`;

exports[`core > regular pool > 1e18 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": -999999999987340232n,
    "amount1": 79228162514264337593543950336n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 918,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 107,
    "range_check_builtin_applications": 25140,
    "steps": 231866,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 26879066827489470242203952493307087579544590886863n,
  "tick_after": 50185211n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": -10000n,
    "amount1": 10032n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2287,
    "steps": 36737,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920941866287043816850431081895n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1649,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 27341,
    "steps": 353611,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -500000000000000000n,
    "amount1": 1003009027081243732n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2263,
    "steps": 37916,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": -999999999999999996n,
    "amount1": 18466747002319258406770079872888746570n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 300,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 146,
    "range_check_builtin_applications": 11554,
    "steps": 125235,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 2680,
    "steps": 35661,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 299,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 8651,
    "steps": 112539,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1649,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 27281,
    "steps": 353437,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": -9969n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2230,
    "steps": 36663,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920941856078572809188248941300n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 2679,
    "steps": 35664,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 299,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 8641,
    "steps": 112515,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -499248873309964947n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2407,
    "steps": 37995,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 679543886741114111536359091041241118277n,
  "tick_after": 1383292n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": -499248873309964947n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2834,
    "steps": 40282,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 679543886741114111536359091041241118277n,
  "tick_after": 1383292n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1649,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 27281,
    "steps": 353437,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity above price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": -999999999987340232n,
    "amount1": 79228162514264337593543950336n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 919,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 107,
    "range_check_builtin_applications": 25146,
    "steps": 231885,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 26879066827489470242203952493307087579544590886863n,
  "tick_after": 50185211n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1621,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 27881,
    "steps": 347817,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 10032n,
    "amount1": -10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 87,
    "range_check_builtin_applications": 2380,
    "steps": 45157,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920935060639705398047133577709n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 56,
    "range_check_builtin_applications": 1629,
    "steps": 26165,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 271,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 8211,
    "steps": 104021,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1003009027081243732n,
    "amount1": -500000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 3303,
    "steps": 47394,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 18466747002319258406770079872888746567n,
    "amount1": -999999999999999994n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 329,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 11868,
    "steps": 133624,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": -9969n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 87,
    "range_check_builtin_applications": 2310,
    "steps": 45089,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 340282366920935070848176405709111855138n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1621,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 27822,
    "steps": 347634,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -499248873309964947n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2735,
    "steps": 44094,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170396778628411849505946223050459795422n,
  "tick_after": -1383293n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -499248873309964947n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 92,
    "range_check_builtin_applications": 2930,
    "steps": 46259,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 170396778628411849505946223050459795422n,
  "tick_after": -1383293n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 56,
    "range_check_builtin_applications": 1629,
    "steps": 26159,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 271,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 8202,
    "steps": 103988,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 79228162514264337593543950336n,
    "amount1": -999999999987340232n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 947,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 120,
    "range_check_builtin_applications": 25433,
    "steps": 238937,
  },
  "liquidity_after": 1000000000000000000n,
  "sqrt_ratio_after": 4307890968852183321656454888n,
  "tick_after": -50185212n,
}
`;

exports[`core > regular pool > 1e18 liquidity below price, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1621,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 27822,
    "steps": 347634,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": -10000n,
    "amount1": 10001n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2323,
    "steps": 36775,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431771614280n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 10001n,
    "amount1": -10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2393,
    "steps": 44660,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431764808632n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -1000000000000000000n,
    "amount1": 1000000000000000002n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2331,
    "steps": 36789,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463803656974352706675260n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": -1000000000000000000n,
    "amount1": 1000000000000000002n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2332,
    "steps": 36791,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463803656974352706675260n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000002n,
    "amount1": -1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2397,
    "steps": 40276,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463123092240510829747992n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000002n,
    "amount1": -1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2397,
    "steps": 40278,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463123092240510829747992n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": -9999n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2325,
    "steps": 44594,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431764808633n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": -9999n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2268,
    "steps": 36703,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463463374607431771614279n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -999999999999999998n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2330,
    "steps": 40213,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463123092240510829748333n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -999999999999999998n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2330,
    "steps": 40215,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463123092240510829748333n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -999999999999999998n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2276,
    "steps": 36717,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463803656974352706674919n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": -999999999999999998n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2277,
    "steps": 36719,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282366920938463803656974352706674919n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 79228162514264337593543950336n,
    "amount1": -79228156237163099530060194283n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2335,
    "steps": 44614,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282339960993932299601503360233022685n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 1e32 full range liquidity, starting at price 1, tick_spacing=max, fee=0 > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": -79228156237163099530060194283n,
    "amount1": 79228162514264337593543950336n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2278,
    "steps": 36723,
  },
  "liquidity_after": 1000000000000000000000000000000000000n,
  "sqrt_ratio_after": 340282393880885130614014402098783298475n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": -10000n,
    "amount1": 10032n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2271,
    "steps": 36696,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374650381441171457n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 10032n,
    "amount1": -10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 81,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2308,
    "steps": 44538,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374564482095251456n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -1000000000000000000n,
    "amount1": 1003009027093903486n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2249,
    "steps": 37876,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366925233430759428817540393170906n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": -1000000000000000000n,
    "amount1": 1003009027093903486n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2676,
    "steps": 40163,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366925233430759428817540393170906n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1003009027093903486n,
    "amount1": -1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2373,
    "steps": 40871,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366916643496167374607431768211456n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 1003009027093903486n,
    "amount1": -1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2598,
    "steps": 43070,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366916643496167374607431768211456n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": -9969n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 81,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2242,
    "steps": 44484,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374564610944270337n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": -9969n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2216,
    "steps": 36626,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366920938463463374650252592152576n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -996999999987453842n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2315,
    "steps": 40832,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366916656381069316492767631040557n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 1000000000000000000n,
    "amount1": -996999999987453842n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2540,
    "steps": 43031,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366916656381069316492767631040557n,
  "tick_after": -1n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -996999999987453842n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 76,
    "range_check_builtin_applications": 2199,
    "steps": 37818,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366925220545857486607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": -996999999987453842n,
    "amount1": 1000000000000000000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2626,
    "steps": 40105,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 340282366925220545857486607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 79228162514264337593543950336n,
    "amount1": -39554570869665270195675172000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 54,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 75,
    "range_check_builtin_applications": 2462,
    "steps": 41979,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 170396778628411849505946223051528149971n,
  "tick_after": -1383293n,
}
`;

exports[`core > regular pool > 2**96 full range liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": -39554570869665270195675172000n,
    "amount1": 79228162514264337593543950336n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 27,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 74,
    "range_check_builtin_applications": 2432,
    "steps": 36813,
  },
  "liquidity_after": 79228162514264337593543950336n,
  "sqrt_ratio_after": 679543886741114111536359091036980510720n,
  "tick_after": 1383292n,
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at max, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at min, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=0.6%, fee=max > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=1, fee=max > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 0 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 0 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 10000 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 10000 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 79228162514264337593543950336 token0 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > no liquidity, starting at price 1, tick_spacing=max, fee=max > swap 79228162514264337593543950336 token1 1`] = `
{
  "revert_reason": "NOT_INITIALIZED",
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token0 1`] = `
{
  "delta": {
    "amount0": -10000n,
    "amount1": 10516n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 83,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 87,
    "range_check_builtin_applications": 3338,
    "steps": 46234,
  },
  "liquidity_after": 150019n,
  "sqrt_ratio_after": 358548395291435633147515612429947974483n,
  "tick_after": 104575n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -10000 token1 1`] = `
{
  "delta": {
    "amount0": 10647n,
    "amount1": -10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3245,
    "steps": 51779,
  },
  "liquidity_after": 100009n,
  "sqrt_ratio_after": 318197518696337062819639931106676301593n,
  "tick_after": -134207n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -15232n,
    "amount1": 16564n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 92,
    "range_check_builtin_applications": 3283,
    "steps": 50251,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": -15232n,
    "amount1": 16564n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 327,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 9865,
    "steps": 128108,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 13101n,
    "amount1": -12092n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 142,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 95,
    "range_check_builtin_applications": 4255,
    "steps": 59683,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap -1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": 13101n,
    "amount1": -12092n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 358,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 152,
    "range_check_builtin_applications": 10226,
    "steps": 136561,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token0 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14915,
  },
  "liquidity_after": 230021n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 0 token1 1`] = `
{
  "delta": {
    "amount0": 0n,
    "amount1": 0n,
  },
  "execution_resources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 53,
    "range_check_builtin_applications": 484,
    "steps": 14907,
  },
  "liquidity_after": 230021n,
  "sqrt_ratio_after": 340282366920938463463374607431768211456n,
  "tick_after": 0n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 1`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1 token1 limit 1 2`] = `
{
  "revert_reason": "LIMIT_DIRECTION",
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token0 1`] = `
{
  "delta": {
    "amount0": 10000n,
    "amount1": -9433n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3270,
    "steps": 51820,
  },
  "liquidity_after": 100009n,
  "sqrt_ratio_after": 320125855863226297598523424027276983985n,
  "tick_after": -122124n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 10000 token1 1`] = `
{
  "delta": {
    "amount0": -9536n,
    "amount1": 10000n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 87,
    "range_check_builtin_applications": 2920,
    "steps": 43066,
  },
  "liquidity_after": 150019n,
  "sqrt_ratio_after": 357384707370995463786432309339396758729n,
  "tick_after": 98074n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 2 limit 0.25 1`] = `
{
  "delta": {
    "amount0": 13101n,
    "amount1": -12092n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 142,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 95,
    "range_check_builtin_applications": 4314,
    "steps": 59808,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 170141183460469231731687303715884105728n,
  "tick_after": -1386296n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token0 skip 5 1`] = `
{
  "delta": {
    "amount0": 13101n,
    "amount1": -12092n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 358,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 152,
    "range_check_builtin_applications": 10276,
    "steps": 136659,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 2 limit 4 1`] = `
{
  "delta": {
    "amount0": -15232n,
    "amount1": 16564n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 92,
    "range_check_builtin_applications": 3277,
    "steps": 50259,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 680564733841876926926749214863536422912n,
  "tick_after": 1386295n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 1000000000000000000 token1 skip 5 1`] = `
{
  "delta": {
    "amount0": -15232n,
    "amount1": 16564n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 327,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 9850,
    "steps": 128089,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token0 1`] = `
{
  "delta": {
    "amount0": 13101n,
    "amount1": -12092n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1708,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 152,
    "range_check_builtin_applications": 28916,
    "steps": 377581,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 18446748437148339061n,
  "tick_after": -88722884n,
}
`;

exports[`core > regular pool > overlapping positions asymmetric, starting at price 1, tick_spacing=0.6%, fee=0.3% > swap 79228162514264337593543950336 token1 1`] = `
{
  "delta": {
    "amount0": -15232n,
    "amount1": 16564n,
  },
  "execution_resources": {
    "bitwise_builtin_applications": 1677,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 29470,
    "steps": 371735,
  },
  "liquidity_after": 0n,
  "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
  "tick_after": 88722883n,
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 23,
    "range_check_builtin_applications": 84,
    "steps": 5238,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 23,
    "range_check_builtin_applications": 84,
    "steps": 5238,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 23,
    "range_check_builtin_applications": 84,
    "steps": 5238,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 876,
    "steps": 20353,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 18446748437148339061n,
    "tick_after": {
      "mag": 88722884n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 65,
    "range_check_builtin_applications": 1269,
    "steps": 29043,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 43,
    "range_check_builtin_applications": 592,
    "steps": 14667,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": true,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 6277100250585753475930931601400621808602321654880405518632n,
    "tick_after": {
      "mag": 88722883n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 64,
    "range_check_builtin_applications": 1214,
    "steps": 23922,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 320,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 43,
    "range_check_builtin_applications": 590,
    "steps": 14667,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 3571n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688373286301n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": true,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 7344330936405778748778511613471546998326820864n,
    "tick_after": {
      "mag": 33774854n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 512,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 70,
    "range_check_builtin_applications": 2417,
    "steps": 30784,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3571n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688373286301n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 7344330936405778748778511613471546998326820864n,
    "tick_after": {
      "mag": 33774854n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7141n,
    },
    {
      "amount": 3327409376746572601n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7142n,
    },
    {
      "amount": 3327409376746572601n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7142n,
    },
    {
      "amount": 3327409376746572601n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7142n,
    },
    {
      "amount": 3327409376746572601n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 240615969168004511545033772477625056927n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 512,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 2537,
    "steps": 35917,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 240615969168004511545033772477625056927n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 879,
    "steps": 20674,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": true,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 481231938336009023077170621664601309184n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 512,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 70,
    "range_check_builtin_applications": 2497,
    "steps": 30854,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 0n,
    "sqrt_ratio_after": 481231938336009023077170621664601309184n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 8000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 8000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 8000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 8000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 8947530230660962n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 23351471309524089912638495101968545620n,
      "tick_after": {
        "mag": 5358235n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 3153,
    "steps": 49787,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 2982510401164847n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 15567647962836655714286144435669035248n,
      "tick_after": {
        "mag": 6169165n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 3133,
    "steps": 49768,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341392n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286368430483576158918618344459106800795444428n,
      "tick_after": {
        "mag": 27286041n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2890,
    "steps": 46690,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341369n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286370909815140757995737279055362963776195298n,
      "tick_after": {
        "mag": 27286058n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2862,
    "steps": 46672,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7862752538859237135n,
        "sign": true,
      },
      "amount1": {
        "mag": 109733128678046476833160n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 137247461140762865n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725128678046476833160n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 1565,
    "steps": 31058,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 905,
    "steps": 20793,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109741128678046476833159n,
    },
    {
      "amount": 15862752538859237134n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7862752538859237135n,
        "sign": true,
      },
      "amount1": {
        "mag": 109733128678046476833160n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 137247461140762865n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725128678046476833160n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 2037,
    "steps": 43698,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 1377,
    "steps": 33433,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109741128678046476833159n,
    },
    {
      "amount": 15862752538859237134n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8819614911916275277n,
        "sign": true,
      },
      "amount1": {
        "mag": 7881589283054302258n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 819614911916275277n,
          "sign": true,
        },
        "amount1": {
          "mag": 118410716945697742n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 114649826687663589n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 41066646728793204848073883902360830451n,
      "tick_after": {
        "mag": 4229162n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5928,
    "steps": 84489,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8949999999999999999n,
        "sign": true,
      },
      "amount1": {
        "mag": 7879315971907722535n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 949999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 120684028092277465n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 114649826687663589n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 41066646728793204848073883902360830451n,
      "tick_after": {
        "mag": 4229162n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 5952,
    "steps": 84930,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15760905254962024792n,
    },
    {
      "amount": 17769614911916275275n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7862752538857825118n,
        "sign": true,
      },
      "amount1": {
        "mag": 109734078678046476833160n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 137247461142174882n,
          "sign": false,
        },
        "amount1": {
          "mag": 109726078678046476833160n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 114649826687663589n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2819613931520015582397970863594748962326n,
      "tick_after": {
        "mag": 4229161n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 4196,
    "steps": 68559,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7879315971907722536n,
        "sign": true,
      },
      "amount1": {
        "mag": 8949999999999999999n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 120684028092277464n,
          "sign": false,
        },
        "amount1": {
          "mag": 949999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 114649826687663589n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2819613931520015582397970863594748962326n,
      "tick_after": {
        "mag": 4229161n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 4220,
    "steps": 69000,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109743028678046476833158n,
    },
    {
      "amount": 15742068510765547653n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725256826406436535784n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725256826406436535784n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 5837868184417162286879685139649804813n,
    "tick_after": {
      "mag": 8130825n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 58,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2853,
    "steps": 39259,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1118441518240904n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1118441518240904n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 2918934121961594917544461285449379475n,
    "tick_after": {
      "mag": 9517120n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 30,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2556,
    "steps": 34151,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109725257944847954776687n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725256826406436535784n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725256826406436535784n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 5837868184417162286879685139649804813n,
      "tick_after": {
        "mag": 8130825n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 5837868184417162286879685139649804813n,
      "tick_after": {
        "mag": 8130825n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 58,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 3327,
    "steps": 51903,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1118441518240904n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1118441518240904n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2918934121961594917544461285449379475n,
      "tick_after": {
        "mag": 9517120n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2918934121961594917544461285449379475n,
      "tick_after": {
        "mag": 9517120n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 30,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 3030,
    "steps": 46795,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109725257944847954776687n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 15906721418928423n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 15906721418928423n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 5189216175680643431129696849062937189n,
      "tick_after": {
        "mag": 8366391n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 198834046921615n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 4670294566575658529333147017989376545n,
      "tick_after": {
        "mag": 8577112n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 59,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 4953,
    "steps": 68375,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 795336194892639n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 795336194892639n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2594608111348875888559632700178401364n,
      "tick_after": {
        "mag": 9752686n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 52324750068214n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2458049790871106739820860560863280677n,
      "tick_after": {
        "mag": 9860820n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 86,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5388,
    "steps": 71967,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16702057613821061n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 109726206826406436535390n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109726206826406436535390n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 5837868184418192682883477881897826304n,
      "tick_after": {
        "mag": 8130825n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7582147127079649916n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2485169432783495307483202241581829160544n,
      "tick_after": {
        "mag": 3976642n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5898,
    "steps": 79675,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 950005242262990507n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 950005242262990507n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 5824186807468402749357067445890052414n,
      "tick_after": {
        "mag": 8135517n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7599999901714810576n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2485155751406545516961868881380234494862n,
      "tick_after": {
        "mag": 3976631n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 145,
    "range_check_builtin_applications": 6272,
    "steps": 83207,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109727156831648699525896n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 10730678n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 10730678n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 286383306472963753381331952036643778679949653n,
    "tick_after": {
      "mag": 27286145n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 2545,
    "steps": 33661,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 10729191n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 10729191n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 286403141125480545998283428806693082525956618n,
    "tick_after": {
      "mag": 27286284n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2883,
    "steps": 37151,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 21459868n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 10730678n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 10730678n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286383306472963753381331952036643778679949653n,
      "tick_after": {
        "mag": 27286145n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286383306472963753381331952036643778679949653n,
      "tick_after": {
        "mag": 27286145n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 120,
    "range_check_builtin_applications": 3014,
    "steps": 46302,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 10729191n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 10729191n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286403141125480545998283428806693082525956618n,
      "tick_after": {
        "mag": 27286284n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286403141125480545998283428806693082525956618n,
      "tick_after": {
        "mag": 27286284n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 3352,
    "steps": 49792,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 21459868n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 947768526452728765n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 947768526452728765n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 19881355455603280178776933366385080588033n,
      "tick_after": {
        "mag": 8135527n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7600041935550246500n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46593494459710617242459932718016291882n,
      "tick_after": {
        "mag": 3976632n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 6236,
    "steps": 82768,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 949999987715099409n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 949999987715099409n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 19881246011252327565073973640684026112945n,
      "tick_after": {
        "mag": 8135516n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7600000000230326184n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46593493858600106914998475118594049571n,
      "tick_after": {
        "mag": 3976632n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1216,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 145,
    "range_check_builtin_applications": 6287,
    "steps": 83227,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 1897768514167828173n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 10730492n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 10730492n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286385785804528352458450886632899941660700523n,
      "tick_after": {
        "mag": 27286162n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1341207n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286388265136092951535569821229156104641451393n,
      "tick_after": {
        "mag": 27286180n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 111,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 5680,
    "steps": 74429,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 10728820n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 10728820n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286408099788609744152521297999205408487458358n,
      "tick_after": {
        "mag": 27286318n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1340998n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286410579120174343229640232595461571468209228n,
      "tick_after": {
        "mag": 27286335n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5359,
    "steps": 71773,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 21459311n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231885n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529375157978053n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 2228314n,
        "sign": true,
      },
      "amount1": {
        "mag": 1661175313215308248n,
        "sign": false,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 286367590424835348236564366020590994632941136n,
    "tick_after": {
      "mag": 27286035n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 3701,
    "steps": 44341,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231821n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529447915130566n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 2228250n,
        "sign": true,
      },
      "amount1": {
        "mag": 1661175240458155735n,
        "sign": false,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 286371709029043346603975311430855703782565259n,
    "tick_after": {
      "mag": 27286064n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 3710,
    "steps": 44776,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 4463705n,
    },
    {
      "amount": 5058823073108618n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231885n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529375157978053n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2228314n,
          "sign": true,
        },
        "amount1": {
          "mag": 1661175313215308248n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286367590424835348236564366020590994632941136n,
      "tick_after": {
        "mag": 27286035n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286367590424835348236564366020590994632941136n,
      "tick_after": {
        "mag": 27286035n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 4170,
    "steps": 56982,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231821n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529447915130566n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2228250n,
          "sign": true,
        },
        "amount1": {
          "mag": 1661175240458155735n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286371709029043346603975311430855703782565259n,
      "tick_after": {
        "mag": 27286064n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286371709029043346603975311430855703782565259n,
      "tick_after": {
        "mag": 27286064n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 4179,
    "steps": 57417,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 4463705n,
    },
    {
      "amount": 5058823073108618n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 939364420944939498n,
        "sign": true,
      },
      "amount1": {
        "mag": 215102n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 939364420944935927n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688373071199n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 4171578486865489868994954663825620497051n,
      "tick_after": {
        "mag": 5012550n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1580717577279437972n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46185872059709293743384178862548815412n,
      "tick_after": {
        "mag": 3994206n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7049,
    "steps": 90363,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 949998681538378461n,
        "sign": true,
      },
      "amount1": {
        "mag": 215034n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 949998681538374890n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688373071267n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 4171061420114536097570138218935343703938n,
      "tick_after": {
        "mag": 5012302n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1580519478243231420n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46185808670211899904116032230048842752n,
      "tick_after": {
        "mag": 3994209n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 7040,
    "steps": 90779,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 1889363102483317958n,
    },
    {
      "amount": 430135n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231846n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529418956452356n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2228275n,
          "sign": true,
        },
        "amount1": {
          "mag": 1661175269416833945n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286370069756291356373864186064036313080442112n,
      "tick_after": {
        "mag": 27286053n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1341354n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286372549087855955450983120660292476061192982n,
      "tick_after": {
        "mag": 27286070n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6191,
    "steps": 78992,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 2231743n,
        "sign": true,
      },
      "amount1": {
        "mag": 2529535513716297n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2228172n,
          "sign": true,
        },
        "amount1": {
          "mag": 1661175152859570004n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286376667691846767879775453778499912341982869n,
      "tick_after": {
        "mag": 27286099n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1341292n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286379147023411366956894388374756075322733739n,
      "tick_after": {
        "mag": 27286116n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6487,
    "steps": 82448,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 4463588n,
    },
    {
      "amount": 5058954470168652n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7805902711499473351n,
        "sign": true,
      },
      "amount1": {
        "mag": 109729166866999990437976n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 194097288500526649n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725166866999990437976n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 240615969168004511545033772477625057690n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 85,
    "range_check_builtin_applications": 5217,
    "steps": 53270,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999999999999999998n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 2n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 240615969168004511545033772477625056928n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 4747,
    "steps": 45695,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109733166866999990437975n,
    },
    {
      "amount": 15805902711499473348n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7805902711499473351n,
        "sign": true,
      },
      "amount1": {
        "mag": 109729166866999990437976n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 194097288500526649n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725166866999990437976n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625057690n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625057690n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 127,
    "range_check_builtin_applications": 5691,
    "steps": 65914,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999999999999999998n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625056928n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625056928n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 5221,
    "steps": 58339,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109733166866999990437975n,
    },
    {
      "amount": 15805902711499473348n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8765607575924499684n,
        "sign": true,
      },
      "amount1": {
        "mag": 3921788181489675751n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 765607575924499684n,
          "sign": true,
        },
        "amount1": {
          "mag": 78211818510324249n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625056412n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 77210021160831788n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 39111503307569847457357056463949241261n,
      "tick_after": {
        "mag": 4326721n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6833,
    "steps": 81890,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8949999999999999999n,
        "sign": true,
      },
      "amount1": {
        "mag": 3918726293514913906n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 949999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 81273706485086094n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625056377n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 77210021160831788n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 39111503307569847457357056463949241261n,
      "tick_after": {
        "mag": 4326721n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6859,
    "steps": 82335,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7840514475004589656n,
    },
    {
      "amount": 17715607575924499682n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7805902711498061334n,
        "sign": true,
      },
      "amount1": {
        "mag": 109730116866999990437976n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 194097288501938666n,
          "sign": false,
        },
        "amount1": {
          "mag": 109726116866999990437976n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625057690n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 168080573519752908n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2719947533767081626119453101580210522240n,
      "tick_after": {
        "mag": 4157186n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 8771,
    "steps": 96929,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7823073080505523251n,
        "sign": true,
      },
      "amount1": {
        "mag": 4949999999999999997n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 176926919494476749n,
          "sign": false,
        },
        "amount1": {
          "mag": 949999999999999997n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 240615969168004511545033772477625057567n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 168080573519752908n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2719947533767081626119453101580210522240n,
      "tick_after": {
        "mag": 4157186n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 8795,
    "steps": 97371,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109735066866999990437972n,
    },
    {
      "amount": 15628975792003584584n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3902951437294610627n,
        "sign": true,
      },
      "amount1": {
        "mag": 109733074670710485057567n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 97048562705389373n,
        "sign": false,
      },
      "amount1": {
        "mag": 109725074670710485057567n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 481231938336009023077170621664601310710n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 4514,
    "steps": 47328,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3999999999999999998n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 2n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 130385243018985227n,
    "sqrt_ratio_after": 481231938336009023077170621664601309186n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 4369,
    "steps": 45299,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109741074670710485057566n,
    },
    {
      "amount": 7902951437294610624n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286363471820446960764380475266594474833942688n,
      "tick_after": {
        "mag": 27286007n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3902951437294610627n,
        "sign": true,
      },
      "amount1": {
        "mag": 109733074670710485057567n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 97048562705389373n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725074670710485057567n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601310710n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601310710n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 4983,
    "steps": 59969,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3999999999999999998n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 2n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601309186n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601309186n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 4838,
    "steps": 57940,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109741074670710485057566n,
    },
    {
      "amount": 7902951437294610624n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 109725241168227575246012n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 46702938810663231944870857229578961928n,
      "tick_after": {
        "mag": 3971940n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 3058,
    "steps": 49138,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4857803865429880094n,
        "sign": true,
      },
      "amount1": {
        "mag": 7824739455694538476n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 857803865429880094n,
          "sign": true,
        },
        "amount1": {
          "mag": 175260544305461524n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601307928n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 168080573519752908n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 42571442206073033189417714166093694872n,
      "tick_after": {
        "mag": 4157187n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 8762,
    "steps": 96996,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4949999999999999998n,
        "sign": true,
      },
      "amount1": {
        "mag": 7823073080505523252n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 949999999999999998n,
          "sign": true,
        },
        "amount1": {
          "mag": 176926919494476748n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601307905n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 168080573519752908n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 42571442206073033189417714166093694872n,
      "tick_after": {
        "mag": 4157187n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 8786,
    "steps": 97436,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15647812536200061727n,
    },
    {
      "amount": 9807803865429880091n,
    },
  ],
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1341416n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 286365951152011559841499409862850637814693558n,
      "tick_after": {
        "mag": 27286024n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2720,
    "steps": 43507,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3902951437293198610n,
        "sign": true,
      },
      "amount1": {
        "mag": 109734024670710485057567n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 97048562706801390n,
          "sign": false,
        },
        "amount1": {
          "mag": 109726024670710485057567n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601310710n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 77210021160831788n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2960563502935086142011766877827582061580n,
      "tick_after": {
        "mag": 4326720n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6994,
    "steps": 81958,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3918726293514913906n,
        "sign": true,
      },
      "amount1": {
        "mag": 8950000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 81273706485086094n,
          "sign": false,
        },
        "amount1": {
          "mag": 950000000000000000n,
          "sign": true,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 481231938336009023077170621664601310283n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 77210021160831788n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 130385243018985227n,
      "sqrt_ratio_after": 2960563502935086142011766877827582061153n,
      "tick_after": {
        "mag": 4326720n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7017,
    "steps": 82397,
  },
}
`;

exports[`core > twamm > 0.13e18, starting price of 0.7e-12, 5% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 109742974670710485057566n,
    },
    {
      "amount": 7821677730808112515n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 166749790684691031n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 113654765170654129451245615431670788547n,
      "tick_after": {
        "mag": 2193222n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2779,
    "steps": 46683,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 83437567526266096n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 85262432202690669915785385075707730215n,
      "tick_after": {
        "mag": 2768086n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 3176,
    "steps": 49815,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 166749790684691031n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1018805406561289759609343574650714025098n,
      "tick_after": {
        "mag": 2193221n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2788,
    "steps": 46618,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 83437567526266096n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1358066926381465407682328058260186931919n,
      "tick_after": {
        "mag": 2768085n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 3204,
    "steps": 49765,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 876,
    "steps": 20353,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 111,
    "range_check_builtin_applications": 1345,
    "steps": 32994,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 1369,
    "steps": 33435,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8996999921445177295n,
        "sign": true,
      },
      "amount1": {
        "mag": 7499248952101155049n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 996999921445177295n,
          "sign": true,
        },
        "amount1": {
          "mag": 500751047898844951n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282340190119560569487916854952493577n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248814452902259n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396771925613548163883038018620416562n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 178,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 148,
    "range_check_builtin_applications": 7218,
    "steps": 89252,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8996999999999995868n,
        "sign": true,
      },
      "amount1": {
        "mag": 7499248932344134272n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 996999999999995868n,
          "sign": true,
        },
        "amount1": {
          "mag": 500751067655865728n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282340190118155061939507412073613555n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248814452899164n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396771925613195680639605144600532279n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 178,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 150,
    "range_check_builtin_applications": 7239,
    "steps": 89687,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 14998497884445289320n,
    },
    {
      "amount": 17993999921445173162n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7499248952101155050n,
        "sign": true,
      },
      "amount1": {
        "mag": 8996999921445177296n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 500751047898844950n,
          "sign": false,
        },
        "amount1": {
          "mag": 996999921445177296n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282393651759466192000944178508951474n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 499248814452902259n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543913471935114264985427787981858295n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6259,
    "steps": 80208,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7499248932344134272n,
        "sign": true,
      },
      "amount1": {
        "mag": 8996999999999995869n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 500751067655865728n,
          "sign": false,
        },
        "amount1": {
          "mag": 996999999999995869n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282393651760871699770188050646229242n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 499248814452899164n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543913471936519772754671660119136063n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6282,
    "steps": 80648,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 17993999921445173164n,
    },
    {
      "amount": 14998497884445289321n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 888591800356506238n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 888591800356506238n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 37910245869088509744137099758441200029n,
    "tick_after": {
      "mag": 4389111n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 85,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2953,
    "steps": 41959,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52418109978557470n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52418109978557470n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 20073287336062910776512971612071208249n,
    "tick_after": {
      "mag": 5660775n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 30,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2483,
    "steps": 34092,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 941009910335063707n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 888591800356506238n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 888591800356506238n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 37910245869088509744137099758441200029n,
      "tick_after": {
        "mag": 4389111n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 37910245869088509744137099758441200029n,
      "tick_after": {
        "mag": 4389111n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 85,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 3427,
    "steps": 54603,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52418109978557470n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 52418109978557470n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 20073287336062910776512971612071208249n,
      "tick_after": {
        "mag": 5660775n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 20073287336062910776512971612071208249n,
      "tick_after": {
        "mag": 5660775n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 30,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 2957,
    "steps": 46736,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 941009910335063707n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 400480395716406254n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 400480395716406254n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 34120361668599063822069083435312070118n,
      "tick_after": {
        "mag": 4599766n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 9113028147740010n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 31019358880668957477248252068651424468n,
      "tick_after": {
        "mag": 4790331n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 86,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 5192,
    "steps": 71366,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 38376113044404569n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 38376113044404569n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 17960644300693468991726831010970580515n,
      "tick_after": {
        "mag": 5883189n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 2638682495719789n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 17062747175497089882747109067530289876n,
      "tick_after": {
        "mag": 5985760n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 59,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4934,
    "steps": 68773,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 438856508760810822n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1879030274918490421n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1879030274918490421n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 40143017275748479310752578587312014833n,
      "tick_after": {
        "mag": 4274657n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7579865787559508204n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 379404537095924126954998474033035071563n,
      "tick_after": {
        "mag": 217654n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5756,
    "steps": 79574,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1002266814835405555n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1002266814835405555n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 38350813057422363346755209947957040343n,
      "tick_after": {
        "mag": 4366003n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7971743248966750206n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 377612332877598010747343745210085854218n,
      "tick_after": {
        "mag": 208184n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 168,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 145,
    "range_check_builtin_applications": 6503,
    "steps": 86201,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2881297089753895975n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 888591800356506238n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 888591800356506238n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 3054374525482343648047250476307551466029n,
    "tick_after": {
      "mag": 4389110n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 2913,
    "steps": 36790,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 52418109978557470n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 52418109978557470n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 5768466684043748832631126345183334720602n,
    "tick_after": {
      "mag": 5660774n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2496,
    "steps": 34036,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 941009910335063707n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 888591800356506238n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 888591800356506238n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3054374525482343648047250476307551466029n,
      "tick_after": {
        "mag": 4389110n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3054374525482343648047250476307551466029n,
      "tick_after": {
        "mag": 4389110n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 120,
    "range_check_builtin_applications": 3382,
    "steps": 49431,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 52418109978557470n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 52418109978557470n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 5768466684043748832631126345183334720602n,
      "tick_after": {
        "mag": 5660774n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 5768466684043748832631126345183334720602n,
      "tick_after": {
        "mag": 5660774n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 2965,
    "steps": 46677,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 941009910335063707n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 1879030274918490421n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1879030274918490421n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2884488937189817033709876069644722845293n,
      "tick_after": {
        "mag": 4274656n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7579865787559508205n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 305194266056024264012654583447442644889n,
      "tick_after": {
        "mag": 217655n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5752,
    "steps": 79561,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 1002266814835405555n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1002266814835405555n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3019286424617429448596530452323225899462n,
      "tick_after": {
        "mag": 4366002n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7971743248966750208n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 306642763373011653182030894602084326978n,
      "tick_after": {
        "mag": 208185n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 140,
    "data_availability": {
      "l1_data_gas": 1216,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 144,
    "range_check_builtin_applications": 5908,
    "steps": 80371,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2881297089753895975n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 400480395716406254n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 400480395716406254n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3393636045302519296120234959917024372850n,
      "tick_after": {
        "mag": 4599765n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 9113028147740010n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3732897565122694944193219443526497279671n,
      "tick_after": {
        "mag": 4790330n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 5226,
    "steps": 71252,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 38376113044404569n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 38376113044404569n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 6446989723684100128777095312402280534244n,
      "tick_after": {
        "mag": 5883188n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 2638682495719789n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 6786251243504275776850079796011753441065n,
      "tick_after": {
        "mag": 5985759n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4963,
    "steps": 68662,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 438856508760810822n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 623878250871623960n,
        "sign": true,
      },
      "amount1": {
        "mag": 409713n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 623878250871620389n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688372876588n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 904713348030272283907144765475442422324n,
    "tick_after": {
      "mag": 1955685n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 3676,
    "steps": 44323,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 144502322655679250n,
        "sign": true,
      },
      "amount1": {
        "mag": 441213n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 144502322655675679n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688372845088n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 1469144329139595417291961582392084020959n,
    "tick_after": {
      "mag": 2925320n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 3937,
    "steps": 47754,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 768380573527303209n,
    },
    {
      "amount": 850925n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 623878250871623960n,
        "sign": true,
      },
      "amount1": {
        "mag": 409713n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 623878250871620389n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372876588n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 904713348030272283907144765475442422324n,
      "tick_after": {
        "mag": 1955685n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 904713348030272283907144765475442422324n,
      "tick_after": {
        "mag": 1955685n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 4145,
    "steps": 56964,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 144502322655679250n,
        "sign": true,
      },
      "amount1": {
        "mag": 441213n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 144502322655675679n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372845088n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1469144329139595417291961582392084020959n,
      "tick_after": {
        "mag": 2925320n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1469144329139595417291961582392084020959n,
      "tick_after": {
        "mag": 2925320n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 4406,
    "steps": 60395,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 768380573527303209n,
    },
    {
      "amount": 850925n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 1533922275442643738n,
        "sign": true,
      },
      "amount1": {
        "mag": 404079n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1533922275442640167n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372882222n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 734827759737747581192500686929243905832n,
      "tick_after": {
        "mag": 1539721n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1474569655219902069n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 233057707269727141840381727177989029344n,
      "tick_after": {
        "mag": 756980n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7013,
    "steps": 90336,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 1033385318910105511n,
        "sign": true,
      },
      "amount1": {
        "mag": 405949n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1033385318910101940n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372880352n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 797488688379062238887342033276284720006n,
      "tick_after": {
        "mag": 1703384n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1641209705802367723n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 239013965075015476553317939847093672119n,
      "tick_after": {
        "mag": 706508n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 7381,
    "steps": 93864,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2567307594352749248n,
    },
    {
      "amount": 810027n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 227206720194963729n,
        "sign": true,
      },
      "amount1": {
        "mag": 426290n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 227206720194960158n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372860011n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1243974867850442307703539975961536317544n,
      "tick_after": {
        "mag": 2592583n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 58616067574322398n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1583236387670617955776524459571009224365n,
      "tick_after": {
        "mag": 3074902n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6529,
    "steps": 82086,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 56485568933403969n,
        "sign": true,
      },
      "amount1": {
        "mag": 505095n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 56485568933400398n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372781206n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2147667368779919416628585468796271103520n,
      "tick_after": {
        "mag": 3684725n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 21614423796687537n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2486928888600095064701569952405744010341n,
      "tick_after": {
        "mag": 3978058n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6564,
    "steps": 82536,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 283692289128367697n,
    },
    {
      "amount": 931384n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7584546203294267182n,
        "sign": true,
      },
      "amount1": {
        "mag": 4292890155271440014n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 415453796705732818n,
        "sign": false,
      },
      "amount1": {
        "mag": 292890155271440014n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 240617011637331673707511133148178121808n,
    "tick_after": {
      "mag": 693139n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 85,
    "range_check_builtin_applications": 4705,
    "steps": 51565,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999993854583630696n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000003063503332843n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 6145416369304n,
        "sign": false,
      },
      "amount1": {
        "mag": 3063503332843n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 240615969181166503385813309496210747933n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 4716,
    "steps": 46931,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8292893218774772856n,
    },
    {
      "amount": 15584540057877897877n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7584546203294267182n,
        "sign": true,
      },
      "amount1": {
        "mag": 4292890155271440014n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 415453796705732818n,
          "sign": false,
        },
        "amount1": {
          "mag": 292890155271440014n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240617011637331673707511133148178121808n,
      "tick_after": {
        "mag": 693139n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240617011637331673707511133148178121808n,
      "tick_after": {
        "mag": 693139n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 127,
    "range_check_builtin_applications": 5179,
    "steps": 64209,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999993854583630696n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000003063503332843n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 6145416369304n,
          "sign": false,
        },
        "amount1": {
          "mag": 3063503332843n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240615969181166503385813309496210747933n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240615969181166503385813309496210747933n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 5190,
    "steps": 59575,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8292893218774772856n,
    },
    {
      "amount": 15584540057877897877n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8582780336560813507n,
        "sign": true,
      },
      "amount1": {
        "mag": 3793026475449722152n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 582780336560813507n,
          "sign": true,
        },
        "amount1": {
          "mag": 206973524550277848n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240614931129877548383524488658474421004n,
      "tick_after": {
        "mag": 693157n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 292375858642894018n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 141124581920331848834469893449223705287n,
      "tick_after": {
        "mag": 1760267n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6673,
    "steps": 80691,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8996996793783818893n,
        "sign": true,
      },
      "amount1": {
        "mag": 3706745982394915004n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 996996793783818893n,
          "sign": true,
        },
        "amount1": {
          "mag": 293254017605084996n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240614385626405530471107874419193560013n,
      "tick_after": {
        "mag": 693161n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 292374807018179745n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 141124394266206716279251471885557865904n,
      "tick_after": {
        "mag": 1760269n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6996,
    "steps": 84165,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7499772457844637155n,
    },
    {
      "amount": 17579777130344632399n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7083806016953393054n,
        "sign": true,
      },
      "amount1": {
        "mag": 5289884701418061702n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 916193983046606946n,
          "sign": false,
        },
        "amount1": {
          "mag": 1289884701418061702n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240618867487468084996473877164225330401n,
      "tick_after": {
        "mag": 693124n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 827381773626126163n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 579880387307643732686401081190879071119n,
      "tick_after": {
        "mag": 1066092n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 8305,
    "steps": 95414,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7170126336825662160n,
        "sign": true,
      },
      "amount1": {
        "mag": 4997001134304850651n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 829873663174337840n,
          "sign": false,
        },
        "amount1": {
          "mag": 997001134304850651n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240618481503528695030043143461582300424n,
      "tick_after": {
        "mag": 693127n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 827383651584914867n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 579880001323704342581949823764447852835n,
      "tick_after": {
        "mag": 1066091n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 8005,
    "steps": 92829,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 10286885835722912352n,
    },
    {
      "amount": 14253932353779055213n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4292890155271440013n,
        "sign": true,
      },
      "amount1": {
        "mag": 7584546203294267182n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 292890155271440013n,
        "sign": true,
      },
      "amount1": {
        "mag": 415453796705732818n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 481229853406387661888770370489439012300n,
    "tick_after": {
      "mag": 693138n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 4643,
    "steps": 46434,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000003063503332843n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999993854583630696n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3063503332843n,
        "sign": true,
      },
      "amount1": {
        "mag": 6145416369304n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 481231938309685039397051502175178564415n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 4712,
    "steps": 46907,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15584540057877897877n,
    },
    {
      "amount": 8292893218774772855n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4292890155271440013n,
        "sign": true,
      },
      "amount1": {
        "mag": 7584546203294267182n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 292890155271440013n,
          "sign": true,
        },
        "amount1": {
          "mag": 415453796705732818n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481229853406387661888770370489439012300n,
      "tick_after": {
        "mag": 693138n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481229853406387661888770370489439012300n,
      "tick_after": {
        "mag": 693138n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 5112,
    "steps": 59075,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000003063503332843n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999993854583630696n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3063503332843n,
          "sign": true,
        },
        "amount1": {
          "mag": 6145416369304n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481231938309685039397051502175178564415n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481231938309685039397051502175178564415n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 5181,
    "steps": 59548,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15584540057877897877n,
    },
    {
      "amount": 8292893218774772855n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 499248873309964947n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170396778628411849505946223050459795422n,
      "tick_after": {
        "mag": 1383293n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2791,
    "steps": 48710,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 5289884701418061702n,
        "sign": true,
      },
      "amount1": {
        "mag": 7083806016953393054n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1289884701418061702n,
          "sign": true,
        },
        "amount1": {
          "mag": 916193983046606946n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481226141766903962868021820195046781649n,
      "tick_after": {
        "mag": 693123n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 827381773626126163n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 199682713490161653154724766587082366298n,
      "tick_after": {
        "mag": 1066093n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 8248,
    "steps": 95427,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4997001134304850650n,
        "sign": true,
      },
      "amount1": {
        "mag": 7170126336825662161n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 997001134304850650n,
          "sign": true,
        },
        "amount1": {
          "mag": 829873663174337839n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481226913717424039190898417223273759268n,
      "tick_after": {
        "mag": 693126n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 827383651584914867n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 199682846404420129099779496391624733296n,
      "tick_after": {
        "mag": 1066092n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 7993,
    "steps": 92872,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 14253932353779055214n,
    },
    {
      "amount": 10286885835722912351n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 499248873309964947n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 679543886741114111536359091041241118277n,
      "tick_after": {
        "mag": 1383292n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2733,
    "steps": 43515,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3793026475449722152n,
        "sign": true,
      },
      "amount1": {
        "mag": 8582780336560813507n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 206973524550277848n,
          "sign": false,
        },
        "amount1": {
          "mag": 582780336560813507n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481234014421219360774740027646935717959n,
      "tick_after": {
        "mag": 693156n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 292375858642894018n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 820495534241395008847724511256408624780n,
      "tick_after": {
        "mag": 1760266n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6477,
    "steps": 80463,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3706745982394915004n,
        "sign": true,
      },
      "amount1": {
        "mag": 8996996793783818894n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 293254017605084996n,
          "sign": false,
        },
        "amount1": {
          "mag": 996996793783818894n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481235105440050327481351880477574711318n,
      "tick_after": {
        "mag": 693160n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 292374807018179745n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 820496625260225975554336364087047618139n,
      "tick_after": {
        "mag": 1760268n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6812,
    "steps": 83947,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 0.3% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 17579777130344632400n,
    },
    {
      "amount": 7499772457844637155n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 166942093015412633n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 114188713731858544824685678242827770564n,
      "tick_after": {
        "mag": 2183848n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2823,
    "steps": 46716,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 83681301032914645n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 85713442549354776734206925070649311065n,
      "tick_after": {
        "mag": 2757534n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2839,
    "steps": 46726,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 166942093015412633n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1014041453424396621120856330146669270138n,
      "tick_after": {
        "mag": 2183847n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2833,
    "steps": 46651,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 83681301032914645n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1350920996676125699949597191504119799479n,
      "tick_after": {
        "mag": 2757533n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2853,
    "steps": 46666,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 876,
    "steps": 20353,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 111,
    "range_check_builtin_applications": 1345,
    "steps": 32994,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 1369,
    "steps": 33435,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8989999912548064139n,
        "sign": true,
      },
      "amount1": {
        "mag": 7497487525521210668n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999912548064139n,
          "sign": true,
        },
        "amount1": {
          "mag": 502512474478789332n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282337162589339845008836181832092059n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487371817264994n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996156767333432015589208210112405514n,
      "tick_after": {
        "mag": 1376271n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 205,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 148,
    "range_check_builtin_applications": 7452,
    "steps": 92226,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8989999999999994831n,
        "sign": true,
      },
      "amount1": {
        "mag": 7497487503214889062n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999994831n,
          "sign": true,
        },
        "amount1": {
          "mag": 502512496785110938n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282337162587581509108752567700028411n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487371817261132n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996156767332988027095143307477210473n,
      "tick_after": {
        "mag": 1376271n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 205,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 150,
    "range_check_builtin_applications": 7480,
    "steps": 92675,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 14994975028736099729n,
    },
    {
      "amount": 17979999912548058969n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7497487525521210669n,
        "sign": true,
      },
      "amount1": {
        "mag": 8989999912548064140n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 502512474478789331n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999912548064140n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282396679290189506979218014574445834n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 497487371817264994n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161939931019268335720079372024975175n,
      "tick_after": {
        "mag": 1376270n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6517,
    "steps": 83212,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7497487503214889062n,
        "sign": true,
      },
      "amount1": {
        "mag": 8989999999999994832n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 502512496785110938n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999994832n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282396679291947843186848793295275468n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 497487371817261132n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161939931021026671927710150745804809n,
      "tick_after": {
        "mag": 1376270n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6545,
    "steps": 83656,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 17979999912548058971n,
    },
    {
      "amount": 14994975028736099730n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 887892376681614349n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 887892376681614349n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 38148247412661262720109260922843969895n,
    "tick_after": {
      "mag": 4376595n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 58,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2481,
    "steps": 38750,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52725200515535293n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52725200515535293n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 20206791384853827997837375226640263626n,
    "tick_after": {
      "mag": 5647517n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2851,
    "steps": 37202,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 940617577197149641n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 887892376681614349n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 887892376681614349n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 38148247412661262720109260922843969895n,
      "tick_after": {
        "mag": 4376595n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 38148247412661262720109260922843969895n,
      "tick_after": {
        "mag": 4376595n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 58,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 2955,
    "steps": 51394,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 52725200515535293n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 52725200515535293n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 20206791384853827997837375226640263626n,
      "tick_after": {
        "mag": 5647517n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 20206791384853827997837375226640263626n,
      "tick_after": {
        "mag": 5647517n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 3325,
    "steps": 49846,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 940617577197149641n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 401604389252011825n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 401604389252011825n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 34337272141366141624390704295977230382n,
      "tick_after": {
        "mag": 4587091n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 9165054296003480n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 31218565772563161791358875135494911472n,
      "tick_after": {
        "mag": 4777528n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 113,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 5665,
    "steps": 74584,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 38608156460529009n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 38608156460529009n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 18080890909720428454708675885277869120n,
      "tick_after": {
        "mag": 5869844n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 2655407025616899n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 17177302721905020874915891888914098686n,
      "tick_after": {
        "mag": 5972377n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 113,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5578,
    "steps": 74886,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 440212545712540833n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 1871270583743019425n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1871270583743019425n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 40401526787066699825397404213638501157n,
      "tick_after": {
        "mag": 4261819n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7520579245868305594n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 377281070038795778217856331738535093395n,
      "tick_after": {
        "mag": 206429n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5769,
    "steps": 79576,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 995375578263313976n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 995375578263313976n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 38572312292057471504904538889866126024n,
      "tick_after": {
        "mag": 4354485n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 7915605749518804715n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 375451855543786549656818526164378955046n,
      "tick_after": {
        "mag": 196709n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 141,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 145,
    "range_check_builtin_applications": 5980,
    "steps": 82920,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2866646162006333400n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 887892376681614349n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 887892376681614349n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 3035318712934771094093301498291372446187n,
    "tick_after": {
      "mag": 4376594n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 2426,
    "steps": 33563,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 52725200515535293n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 52725200515535293n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 5730355058948603724723228389150976680918n,
    "tick_after": {
      "mag": 5647516n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2875,
    "steps": 37156,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 940617577197149641n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 887892376681614349n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 887892376681614349n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3035318712934771094093301498291372446187n,
      "tick_after": {
        "mag": 4376594n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3035318712934771094093301498291372446187n,
      "tick_after": {
        "mag": 4376594n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 120,
    "range_check_builtin_applications": 2895,
    "steps": 46204,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 52725200515535293n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 52725200515535293n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 5730355058948603724723228389150976680918n,
      "tick_after": {
        "mag": 5647516n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 5730355058948603724723228389150976680918n,
      "tick_after": {
        "mag": 5647516n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 3344,
    "steps": 49797,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 940617577197149641n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 1871270583743019425n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1871270583743019425n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2866032510295711255044722476019840254505n,
      "tick_after": {
        "mag": 4261818n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7520579245868305595n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 306912003895157807510295844831726273385n,
      "tick_after": {
        "mag": 206430n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 114,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5772,
    "steps": 79577,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 995375578263313976n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 995375578263313976n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3001948349908990438140222735691330508116n,
      "tick_after": {
        "mag": 4354484n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7915605749518804717n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 308407289849742410596801408972392097739n,
      "tick_after": {
        "mag": 196710n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 113,
    "data_availability": {
      "l1_data_gas": 1216,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 144,
    "range_check_builtin_applications": 5373,
    "steps": 77090,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2866646162006333400n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 401604389252011825n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 401604389252011825n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3372198256186500172922042359648822975528n,
      "tick_after": {
        "mag": 4587090n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 9165054296003480n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 3709077799438229251750783221006273504869n,
      "tick_after": {
        "mag": 4777527n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 111,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 5718,
    "steps": 74498,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 38608156460529009n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 38608156460529009n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 6404114145452061882380710111865877739600n,
      "tick_after": {
        "mag": 5869843n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 2655407025616899n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 6740993688703790961209450973223328268941n,
      "tick_after": {
        "mag": 5972376n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 111,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 5632,
    "steps": 74800,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 440212545712540833n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 622223480682388373n,
        "sign": true,
      },
      "amount1": {
        "mag": 567875n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 622223480682384802n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688372718426n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 900750442445700108715731197966168150577n,
    "tick_after": {
      "mag": 1946905n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 3740,
    "steps": 44399,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 144900763408385453n,
        "sign": true,
      },
      "amount1": {
        "mag": 599018n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 144900763408381882n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688372687283n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 1461218517970451262608709507353031935257n,
    "tick_after": {
      "mag": 2914501n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 4070,
    "steps": 47906,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 767124244090773825n,
    },
    {
      "amount": 1166892n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 622223480682388373n,
        "sign": true,
      },
      "amount1": {
        "mag": 567875n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 622223480682384802n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372718426n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 900750442445700108715731197966168150577n,
      "tick_after": {
        "mag": 1946905n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 900750442445700108715731197966168150577n,
      "tick_after": {
        "mag": 1946905n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 4209,
    "steps": 57040,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 144900763408385453n,
        "sign": true,
      },
      "amount1": {
        "mag": 599018n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 144900763408381882n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372687283n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1461218517970451262608709507353031935257n,
      "tick_after": {
        "mag": 2914501n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1461218517970451262608709507353031935257n,
      "tick_after": {
        "mag": 2914501n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 4539,
    "steps": 60547,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 767124244090773825n,
    },
    {
      "amount": 1166892n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 1524792887467899597n,
        "sign": true,
      },
      "amount1": {
        "mag": 562279n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1524792887467896026n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372724022n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 731464239806642155319841372320889113732n,
      "tick_after": {
        "mag": 1530545n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1462392798889709825n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 233837756832315745638801563286708268885n,
      "tick_after": {
        "mag": 750297n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 233,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7782,
    "steps": 96614,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 1026804911441425903n,
        "sign": true,
      },
      "amount1": {
        "mag": 564149n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1026804911441422332n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372722152n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 794305832357078645788911390467926729364n,
      "tick_after": {
        "mag": 1695386n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 1629236400406281438n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 239905413753079369381906698111764001184n,
      "tick_after": {
        "mag": 699063n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 7033,
    "steps": 90793,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 2551597798909325499n,
    },
    {
      "amount": 1126427n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 227565792896258720n,
        "sign": true,
      },
      "amount1": {
        "mag": 584271n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 227565792896255149n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372702030n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1237629985697423664177232635508670321625n,
      "tick_after": {
        "mag": 2582356n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 58827171614687020n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 1574509528949152743005973496866120850966n,
      "tick_after": {
        "mag": 3063848n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6542,
    "steps": 82074,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 56735084757007964n,
        "sign": true,
      },
      "amount1": {
        "mag": 662105n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 56735084757004393n,
          "sign": true,
        },
        "amount1": {
          "mag": 1663704688372624196n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2134977604473882644209200906196911930281n,
      "tick_after": {
        "mag": 3672873n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 21721879103823291n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 2471857147725611723037941767554362459622n,
      "tick_after": {
        "mag": 3965900n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 149,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6442,
    "steps": 82420,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 284300877653266683n,
    },
    {
      "amount": 1246375n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7581609161265947630n,
        "sign": true,
      },
      "amount1": {
        "mag": 4292889902784710188n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 418390838734052370n,
        "sign": false,
      },
      "amount1": {
        "mag": 292889902784710188n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 240617097554113714807237126165065670761n,
    "tick_after": {
      "mag": 693139n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 85,
    "range_check_builtin_applications": 4946,
    "steps": 54540,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999993301075002861n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000003315983424268n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 6698924997139n,
        "sign": false,
      },
      "amount1": {
        "mag": 3315983424268n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 240615969183425434012162577360912814633n,
    "tick_after": {
      "mag": 693148n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 4684,
    "steps": 46893,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8292893218768134455n,
    },
    {
      "amount": 15581602462340950490n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7581609161265947630n,
        "sign": true,
      },
      "amount1": {
        "mag": 4292889902784710188n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 418390838734052370n,
          "sign": false,
        },
        "amount1": {
          "mag": 292889902784710188n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240617097554113714807237126165065670761n,
      "tick_after": {
        "mag": 693139n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240617097554113714807237126165065670761n,
      "tick_after": {
        "mag": 693139n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 127,
    "range_check_builtin_applications": 5420,
    "steps": 67184,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999993301075002861n,
        "sign": true,
      },
      "amount1": {
        "mag": 4000003315983424268n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 6698924997139n,
          "sign": false,
        },
        "amount1": {
          "mag": 3315983424268n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240615969183425434012162577360912814633n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240615969183425434012162577360912814633n,
      "tick_after": {
        "mag": 693148n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 95,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 5158,
    "steps": 59537,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8292893218768134455n,
    },
    {
      "amount": 15581602462340950490n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8575779899636610009n,
        "sign": true,
      },
      "amount1": {
        "mag": 3793342475361169309n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 575779899636610009n,
          "sign": true,
        },
        "amount1": {
          "mag": 206657524638830691n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240614856791740856319506390470348773429n,
      "tick_after": {
        "mag": 693157n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 291168215829590640n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 141535447137101091012248800906305554062n,
      "tick_after": {
        "mag": 1754453n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6679,
    "steps": 80683,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8989996516022895217n,
        "sign": true,
      },
      "amount1": {
        "mag": 3705892450645013980n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989996516022895217n,
          "sign": true,
        },
        "amount1": {
          "mag": 294107549354986020n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240614264030694148244953196727562918250n,
      "tick_after": {
        "mag": 693162n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 291167076596164777n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 141535242037101010941579334898598869456n,
      "tick_after": {
        "mag": 1754455n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 123,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6715,
    "steps": 81132,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 7499234926006183288n,
    },
    {
      "amount": 17565776415659505225n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7079108471192009442n,
        "sign": true,
      },
      "amount1": {
        "mag": 5282884025674376434n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 920891528807990558n,
          "sign": false,
        },
        "amount1": {
          "mag": 1282884025674376434n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240619097431128739946137060924850953345n,
      "tick_after": {
        "mag": 693122n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 824960253601392765n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 577498640682857818314892752728984663195n,
      "tick_after": {
        "mag": 1057861n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7989,
    "steps": 92379,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7166704320546561983n,
        "sign": true,
      },
      "amount1": {
        "mag": 4990001234558700582n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 833295679453438017n,
          "sign": false,
        },
        "amount1": {
          "mag": 990001234558700582n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 240618677332572002349035908822653113774n,
      "tick_after": {
        "mag": 693126n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 824962294022534211n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 577498220584301080753198237559669036610n,
      "tick_after": {
        "mag": 1057859n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 8285,
    "steps": 95829,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 10272885260233077015n,
    },
    {
      "amount": 14245812791738571424n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4292889902784710188n,
        "sign": true,
      },
      "amount1": {
        "mag": 7581609161265947630n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 292889902784710188n,
        "sign": true,
      },
      "amount1": {
        "mag": 418390838734052370n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 481229681574373864579488655234265988655n,
    "tick_after": {
      "mag": 693138n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 4903,
    "steps": 49427,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000003315983424268n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999993301075002861n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3315983424268n,
        "sign": true,
      },
      "amount1": {
        "mag": 6698924997139n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000n,
    "sqrt_ratio_after": 481231938305167178144889645875603723895n,
    "tick_after": {
      "mag": 693147n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 4682,
    "steps": 46873,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15581602462340950490n,
    },
    {
      "amount": 8292893218768134455n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 4292889902784710188n,
        "sign": true,
      },
      "amount1": {
        "mag": 7581609161265947630n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 292889902784710188n,
          "sign": true,
        },
        "amount1": {
          "mag": 418390838734052370n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481229681574373864579488655234265988655n,
      "tick_after": {
        "mag": 693138n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481229681574373864579488655234265988655n,
      "tick_after": {
        "mag": 693138n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 121,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 5372,
    "steps": 62068,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4000003315983424268n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999993301075002861n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3315983424268n,
          "sign": true,
        },
        "amount1": {
          "mag": 6698924997139n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481231938305167178144889645875603723895n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481231938305167178144889645875603723895n,
      "tick_after": {
        "mag": 693147n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 5151,
    "steps": 59514,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15581602462340950490n,
    },
    {
      "amount": 8292893218768134455n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 497487437185929648n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 170996164281878624855967139412948849978n,
      "tick_after": {
        "mag": 1376270n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2947,
    "steps": 51602,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 5282884025674376434n,
        "sign": true,
      },
      "amount1": {
        "mag": 7079108471192009442n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1282884025674376434n,
          "sign": true,
        },
        "amount1": {
          "mag": 920891528807990558n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481225681891100994186828208714128422039n,
      "tick_after": {
        "mag": 693121n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 824960253601392765n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 200506254179921414476960755652978415010n,
      "tick_after": {
        "mag": 1057862n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 179,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 7942,
    "steps": 92399,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 4990001234558700581n,
        "sign": true,
      },
      "amount1": {
        "mag": 7166704320546561984n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 990001234558700581n,
          "sign": true,
        },
        "amount1": {
          "mag": 833295679453438016n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481226522067834856364478381885604296384n,
      "tick_after": {
        "mag": 693125n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 824962294022534210n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 200506400037319750033817621308335977265n,
      "tick_after": {
        "mag": 1057860n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 206,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 151,
    "range_check_builtin_applications": 8288,
    "steps": 95885,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 14245812791738571425n,
    },
    {
      "amount": 10272885260233077014n,
    },
  ],
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 497487437185929648n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 677161910172667542292115468789218740797n,
      "tick_after": {
        "mag": 1376269n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 55,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2906,
    "steps": 46429,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3793342475361169309n,
        "sign": true,
      },
      "amount1": {
        "mag": 8575779899636610009n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 206657524638830691n,
          "sign": false,
        },
        "amount1": {
          "mag": 575779899636610009n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481234163098821491879977225983058821818n,
      "tick_after": {
        "mag": 693156n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 291168215829590640n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 818113706350550570708718087340509351159n,
      "tick_after": {
        "mag": 1754452n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 6478,
    "steps": 80446,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3705892450645013980n,
        "sign": true,
      },
      "amount1": {
        "mag": 8989996516022895217n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 294107549354986020n,
          "sign": false,
        },
        "amount1": {
          "mag": 989996516022895217n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 481235348634797005587165683606750250945n,
      "tick_after": {
        "mag": 693161n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 291167076596164778n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000n,
      "sqrt_ratio_after": 818114891886526084415906544964200780286n,
      "tick_after": {
        "mag": 1754454n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 6511,
    "steps": 80886,
  },
}
`;

exports[`core > twamm > 1e18 liquidity, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 17565776415659505225n,
    },
    {
      "amount": 7499234926006183288n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 36,
    "range_check_builtin_applications": 376,
    "steps": 12038,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 256,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 845,
    "steps": 24679,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999996n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462789615520928310055473n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2646,
    "steps": 49272,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999994n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462452735977676580978652n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 56,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2647,
    "steps": 49274,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999997n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464137133693935226369112n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2656,
    "steps": 46506,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > no orders > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999995n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464474013237186955447940n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 832,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 99,
    "range_check_builtin_applications": 2657,
    "steps": 46508,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 69,
    "range_check_builtin_applications": 876,
    "steps": 20353,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 0n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431768211456n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 71,
    "range_check_builtin_applications": 900,
    "steps": 20794,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 384,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 111,
    "range_check_builtin_applications": 1345,
    "steps": 32994,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 1,
    "data_availability": {
      "l1_data_gas": 576,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 113,
    "range_check_builtin_applications": 1369,
    "steps": 33435,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000000n,
    },
    {
      "amount": 16000000000000000000n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000015n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999999999999999983n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 15n,
          "sign": true,
        },
        "amount1": {
          "mag": 17n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039138295n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999996n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462789615520928310060578n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 177,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 5252,
    "steps": 83608,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000031n,
        "sign": true,
      },
      "amount1": {
        "mag": 7999999999999999967n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 31n,
          "sign": true,
        },
        "amount1": {
          "mag": 33n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462789615520928310071244n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999994n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462452735977676580994305n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 177,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5278,
    "steps": 84053,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15999999999999999949n,
    },
    {
      "amount": 16000000000000000045n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999999999999999983n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000015n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 17n,
          "sign": false,
        },
        "amount1": {
          "mag": 15n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497284934n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999997n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464137133693935226363762n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 4884,
    "steps": 77674,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7999999999999999967n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000031n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 33n,
          "sign": false,
        },
        "amount1": {
          "mag": 31n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464137133693935226353062n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999995n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464474013237186955431890n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 4910,
    "steps": 78119,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 of both tokens per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16000000000000000045n,
    },
    {
      "amount": 15999999999999999949n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938460768338261417935602171n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 85,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 79,
    "range_check_builtin_applications": 2395,
    "steps": 41382,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999810n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999810n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938458073301915404103035916n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2350,
    "steps": 36681,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999746n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999937n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460768338261417935602171n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460768338261417935602171n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 85,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 121,
    "range_check_builtin_applications": 2869,
    "steps": 54026,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999810n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999810n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938458073301915404103035916n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938458073301915404103035916n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 2824,
    "steps": 49325,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999746n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999920n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999920n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460431458718166206529352n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999980n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460094579174914477457201n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 113,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 4599,
    "steps": 73489,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999779n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999779n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938457399542828900644901617n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999962n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938457062663285648915835469n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 113,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4616,
    "steps": 73907,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999698n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999950n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999950n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461105217804669664675997n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 990000000000000012n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461442097347921393754825n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 140,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 142,
    "range_check_builtin_applications": 4962,
    "steps": 79065,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
      "amount1": {
        "mag": 7919999999999999842n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 7919999999999999842n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938458747061001907561177646n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 990000000000000026n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938459083940545159290256474n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 112,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4658,
    "steps": 73942,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token0 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999791n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938466158410953445600842085n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 78,
    "range_check_builtin_applications": 2338,
    "steps": 33492,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999811n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 7919999999999999811n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938468853447299459433472714n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 80,
    "range_check_builtin_applications": 2359,
    "steps": 33919,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999747n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999937n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999937n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466158410953445600842085n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466158410953445600842085n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 120,
    "range_check_builtin_applications": 2807,
    "steps": 46133,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999811n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999811n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938468853447299459433472714n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938468853447299459433472714n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 29,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 122,
    "range_check_builtin_applications": 2828,
    "steps": 46560,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999747n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999952n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999952n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465821531410193871763590n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 990000000000000012n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465484651866942142680442n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 4154,
    "steps": 67457,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999843n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999843n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938468179688212955975311071n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 990000000000000025n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938467842808669704246223516n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 1216,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4172,
    "steps": 67882,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999794n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999921n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999921n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466495290496697329920913n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999981n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466832170039949058999741n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 141,
    "range_check_builtin_applications": 4619,
    "steps": 67961,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7919999999999999780n,
        "sign": true,
      },
      "amount1": {
        "mag": 8000000000000000000n,
        "sign": false,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 7919999999999999780n,
          "sign": true,
        },
        "amount1": {
          "mag": 8000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938469527206385962891630370n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999963n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938469864085929214620709198n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 57,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 143,
    "range_check_builtin_applications": 4636,
    "steps": 68379,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling 1e18 token1 per second for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15839999999999999700n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3571n,
        "sign": false,
      },
      "amount1": {
        "mag": 3534n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431767008558n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 85,
    "range_check_builtin_applications": 2804,
    "steps": 51206,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3571n,
        "sign": false,
      },
      "amount1": {
        "mag": 3534n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938463463374607431765806000n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 2766,
    "steps": 46524,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
    {
      "amount": 3327409376746579669n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3571n,
          "sign": false,
        },
        "amount1": {
          "mag": 3534n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431767008558n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431767008558n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 640,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 127,
    "range_check_builtin_applications": 3278,
    "steps": 63850,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3571n,
          "sign": false,
        },
        "amount1": {
          "mag": 3534n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431765806000n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431765806000n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 768,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 3240,
    "steps": 59168,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 0n,
    },
    {
      "amount": 3327409376746579669n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3571n,
          "sign": false,
        },
        "amount1": {
          "mag": 3534n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180037930403n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999996n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462789615520928308852915n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 178,
    "data_availability": {
      "l1_data_gas": 1024,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 5021,
    "steps": 83335,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 16388n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688373273353n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 12817n,
          "sign": true,
        },
        "amount1": {
          "mag": 12948n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462789615520928313214522n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999994n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462452735977676584137494n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 177,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5172,
    "steps": 83936,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 16387n,
    },
    {
      "amount": 3327409376746563187n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 1917434462208n,
    "token1_sale_rate": 893194653345642012854976512n,
    "twamm_delta": {
      "amount0": {
        "mag": 0n,
        "sign": false,
      },
      "amount1": {
        "mag": 1663704688373289835n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3571n,
          "sign": false,
        },
        "amount1": {
          "mag": 3534n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683496087721n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999997n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464137133693935225166549n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 4614,
    "steps": 77328,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 23122n,
        "sign": true,
      },
      "amount1": {
        "mag": 1663704688373266551n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 19551n,
          "sign": true,
        },
        "amount1": {
          "mag": 19750n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464137133693935231819555n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999995n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464474013237186960898383n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5194,
    "steps": 78408,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling much more token1 than token0 > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 23121n,
    },
    {
      "amount": 3327409376746556385n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090484n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230404n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 4007471429967909516n,
        "sign": false,
      },
      "amount1": {
        "mag": 3967396715668230404n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938462113339462509825263190n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 85,
    "range_check_builtin_applications": 3113,
    "steps": 51507,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090516n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230341n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 4007471429967909484n,
        "sign": false,
      },
      "amount1": {
        "mag": 3967396715668230341n,
        "sign": true,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938460763304317587882336348n,
    "tick_after": {
      "mag": 1n,
      "sign": true,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 3076,
    "steps": 46835,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15934793431336460744n,
    },
    {
      "amount": 7985057140064180999n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090484n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230404n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909516n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230404n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462113339462509825263190n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462113339462509825263190n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 150,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 127,
    "range_check_builtin_applications": 3587,
    "steps": 64151,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090516n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230341n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909484n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230341n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460763304317587882336348n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460763304317587882336348n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 3550,
    "steps": 59479,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15934793431336460744n,
    },
    {
      "amount": 7985057140064180999n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090491n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230388n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909509n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230388n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461776459919258096190041n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999989n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461439580376006367114930n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 178,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 5328,
    "steps": 83640,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090532n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230309n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909468n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230309n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938460089545231084424198781n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999978n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938459752665687832695127235n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 178,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5348,
    "steps": 84073,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15934793431336460696n,
    },
    {
      "amount": 7985057140064181022n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 4294967296000000000000000000n,
    "token1_sale_rate": 2147483648000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090475n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230418n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909525n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230418n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462450219005761554336672n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 990000000000000004n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938462787098549013283415500n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 205,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 148,
    "range_check_builtin_applications": 5688,
    "steps": 89204,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 3992528570032090500n,
        "sign": true,
      },
      "amount1": {
        "mag": 7967396715668230372n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 4007471429967909500n,
          "sign": false,
        },
        "amount1": {
          "mag": 3967396715668230372n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461437063404091340477966n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 990000000000000010n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938461773942947343069556794n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 177,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5395,
    "steps": 84114,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token0 as token1 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 15934793431336460789n,
    },
    {
      "amount": 7985057140064180974n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwap": null,
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 26,
    "range_check_builtin_applications": 249,
    "steps": 8884,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688228n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254298n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3948230547959688228n,
        "sign": true,
      },
      "amount1": {
        "mag": 3988111664605745702n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938464806887843441044773916n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 84,
    "range_check_builtin_applications": 3006,
    "steps": 43639,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds > execute_virtual_orders after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688165n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254330n,
        "sign": true,
      },
    },
  },
  "executedSwap": {
    "delta": {
      "amount0": {
        "mag": 3948230547959688165n,
        "sign": true,
      },
      "amount1": {
        "mag": 3988111664605745670n,
        "sign": false,
      },
    },
    "liquidity_after": 1000000000000000000000000000000000000n,
    "sqrt_ratio_after": 340282366920938466150401079450321325768n,
    "tick_after": {
      "mag": 0n,
      "sign": false,
    },
  },
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 86,
    "range_check_builtin_applications": 3031,
    "steps": 44079,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > execute at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8023776670788508627n,
    },
    {
      "amount": 15896461095919376392n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463463374607431768211456n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "data_availability": {
      "l1_data_gas": 128,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 68,
    "range_check_builtin_applications": 718,
    "steps": 21525,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688228n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254298n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688228n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745702n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464806887843441044773916n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464806887843441044773916n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 126,
    "range_check_builtin_applications": 3475,
    "steps": 56280,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688165n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254330n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688165n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745670n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466150401079450321325768n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 0n,
          "sign": false,
        },
        "amount1": {
          "mag": 0n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466150401079450321325768n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 94,
    "data_availability": {
      "l1_data_gas": 896,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 128,
    "range_check_builtin_applications": 3500,
    "steps": 56720,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8023776670788508627n,
    },
    {
      "amount": 15896461095919376392n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 989999999999999999n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463126495064180039132961n,
      "tick_after": {
        "mag": 1n,
        "sign": true,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 84,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 90,
    "range_check_builtin_applications": 2586,
    "steps": 51245,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688243n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254290n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688243n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745710n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464470008300189315698083n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 990000000000000004n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938464133128756937586617645n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1152,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 4832,
    "steps": 77616,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688197n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254314n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688197n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745686n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465476641992946863174817n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
        "amount1": {
          "mag": 990000000000000009n,
          "sign": true,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465139762449695134092632n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1344,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 4854,
    "steps": 78062,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token0 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8023776670788508603n,
    },
    {
      "amount": 15896461095919376439n,
    },
  ],
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 0 seconds 1`] = `
{
  "VirtualOrdersExecuted": undefined,
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999999n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938463800254150683497290284n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 28,
    "data_availability": {
      "l1_data_gas": 704,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 89,
    "range_check_builtin_applications": 2529,
    "steps": 43351,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 8 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 2147483648000000000000000000n,
    "token1_sale_rate": 4294967296000000000000000000n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688212n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254307n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688212n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745693n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465143767386692773850084n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999989n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938465480646929944502928912n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1088,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 147,
    "range_check_builtin_applications": 5304,
    "steps": 78138,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds > swap after 16 seconds 1`] = `
{
  "VirtualOrdersExecuted": {
    "token0_sale_rate": 0n,
    "token1_sale_rate": 0n,
    "twamm_delta": {
      "amount0": {
        "mag": 7948230547959688134n,
        "sign": true,
      },
      "amount1": {
        "mag": 4011888335394254346n,
        "sign": true,
      },
    },
  },
  "executedSwaps": [
    {
      "delta": {
        "amount0": {
          "mag": 3948230547959688134n,
          "sign": true,
        },
        "amount1": {
          "mag": 3988111664605745654n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938466824160165953779475442n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
    {
      "delta": {
        "amount0": {
          "mag": 989999999999999979n,
          "sign": true,
        },
        "amount1": {
          "mag": 1000000000000000000n,
          "sign": false,
        },
      },
      "liquidity_after": 1000000000000000000000000000000000000n,
      "sqrt_ratio_after": 340282366920938467161039709205508554270n,
      "tick_after": {
        "mag": 0n,
        "sign": false,
      },
    },
  ],
  "executionResources": {
    "bitwise_builtin_applications": 122,
    "data_availability": {
      "l1_data_gas": 1280,
      "l1_gas": 0,
    },
    "ecdsa_builtin_applications": 1,
    "pedersen_builtin_applications": 149,
    "range_check_builtin_applications": 5322,
    "steps": 78567,
  },
}
`;

exports[`core > twamm > 1e36 liquidity across 2 positions, starting price of 1, 1% fee > selling twice as much token1 as token0 for one period > swap 1e18 token1 tokens at 0, 8 and 16 seconds 1`] = `
{
  "proceedsWithdrawn": [
    {
      "amount": 8023776670788508652n,
    },
    {
      "amount": 15896461095919376345n,
    },
  ],
}
`;
