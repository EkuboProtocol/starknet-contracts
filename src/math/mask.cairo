// Returns 2^(n+1) - 1
pub fn mask(n: u8) -> u128 {
    match n {
        0 => { 0x1 },
        1 => { 0x3 },
        2 => { 0x7 },
        3 => { 0xf },
        4 => { 0x1f },
        5 => { 0x3f },
        6 => { 0x7f },
        7 => { 0xff },
        8 => { 0x1ff },
        9 => { 0x3ff },
        10 => { 0x7ff },
        11 => { 0xfff },
        12 => { 0x1fff },
        13 => { 0x3fff },
        14 => { 0x7fff },
        15 => { 0xffff },
        16 => { 0x1ffff },
        17 => { 0x3ffff },
        18 => { 0x7ffff },
        19 => { 0xfffff },
        20 => { 0x1fffff },
        21 => { 0x3fffff },
        22 => { 0x7fffff },
        23 => { 0xffffff },
        24 => { 0x1ffffff },
        25 => { 0x3ffffff },
        26 => { 0x7ffffff },
        27 => { 0xfffffff },
        28 => { 0x1fffffff },
        29 => { 0x3fffffff },
        30 => { 0x7fffffff },
        31 => { 0xffffffff },
        32 => { 0x1ffffffff },
        33 => { 0x3ffffffff },
        34 => { 0x7ffffffff },
        35 => { 0xfffffffff },
        36 => { 0x1fffffffff },
        37 => { 0x3fffffffff },
        38 => { 0x7fffffffff },
        39 => { 0xffffffffff },
        40 => { 0x1ffffffffff },
        41 => { 0x3ffffffffff },
        42 => { 0x7ffffffffff },
        43 => { 0xfffffffffff },
        44 => { 0x1fffffffffff },
        45 => { 0x3fffffffffff },
        46 => { 0x7fffffffffff },
        47 => { 0xffffffffffff },
        48 => { 0x1ffffffffffff },
        49 => { 0x3ffffffffffff },
        50 => { 0x7ffffffffffff },
        51 => { 0xfffffffffffff },
        52 => { 0x1fffffffffffff },
        53 => { 0x3fffffffffffff },
        54 => { 0x7fffffffffffff },
        55 => { 0xffffffffffffff },
        56 => { 0x1ffffffffffffff },
        57 => { 0x3ffffffffffffff },
        58 => { 0x7ffffffffffffff },
        59 => { 0xfffffffffffffff },
        60 => { 0x1fffffffffffffff },
        61 => { 0x3fffffffffffffff },
        62 => { 0x7fffffffffffffff },
        63 => { 0xffffffffffffffff },
        64 => { 0x1ffffffffffffffff },
        65 => { 0x3ffffffffffffffff },
        66 => { 0x7ffffffffffffffff },
        67 => { 0xfffffffffffffffff },
        68 => { 0x1fffffffffffffffff },
        69 => { 0x3fffffffffffffffff },
        70 => { 0x7fffffffffffffffff },
        71 => { 0xffffffffffffffffff },
        72 => { 0x1ffffffffffffffffff },
        73 => { 0x3ffffffffffffffffff },
        74 => { 0x7ffffffffffffffffff },
        75 => { 0xfffffffffffffffffff },
        76 => { 0x1fffffffffffffffffff },
        77 => { 0x3fffffffffffffffffff },
        78 => { 0x7fffffffffffffffffff },
        79 => { 0xffffffffffffffffffff },
        80 => { 0x1ffffffffffffffffffff },
        81 => { 0x3ffffffffffffffffffff },
        82 => { 0x7ffffffffffffffffffff },
        83 => { 0xfffffffffffffffffffff },
        84 => { 0x1fffffffffffffffffffff },
        85 => { 0x3fffffffffffffffffffff },
        86 => { 0x7fffffffffffffffffffff },
        87 => { 0xffffffffffffffffffffff },
        88 => { 0x1ffffffffffffffffffffff },
        89 => { 0x3ffffffffffffffffffffff },
        90 => { 0x7ffffffffffffffffffffff },
        91 => { 0xfffffffffffffffffffffff },
        92 => { 0x1fffffffffffffffffffffff },
        93 => { 0x3fffffffffffffffffffffff },
        94 => { 0x7fffffffffffffffffffffff },
        95 => { 0xffffffffffffffffffffffff },
        96 => { 0x1ffffffffffffffffffffffff },
        97 => { 0x3ffffffffffffffffffffffff },
        98 => { 0x7ffffffffffffffffffffffff },
        99 => { 0xfffffffffffffffffffffffff },
        100 => { 0x1fffffffffffffffffffffffff },
        101 => { 0x3fffffffffffffffffffffffff },
        102 => { 0x7fffffffffffffffffffffffff },
        103 => { 0xffffffffffffffffffffffffff },
        104 => { 0x1ffffffffffffffffffffffffff },
        105 => { 0x3ffffffffffffffffffffffffff },
        106 => { 0x7ffffffffffffffffffffffffff },
        107 => { 0xfffffffffffffffffffffffffff },
        108 => { 0x1fffffffffffffffffffffffffff },
        109 => { 0x3fffffffffffffffffffffffffff },
        110 => { 0x7fffffffffffffffffffffffffff },
        111 => { 0xffffffffffffffffffffffffffff },
        112 => { 0x1ffffffffffffffffffffffffffff },
        113 => { 0x3ffffffffffffffffffffffffffff },
        114 => { 0x7ffffffffffffffffffffffffffff },
        115 => { 0xfffffffffffffffffffffffffffff },
        116 => { 0x1fffffffffffffffffffffffffffff },
        117 => { 0x3fffffffffffffffffffffffffffff },
        118 => { 0x7fffffffffffffffffffffffffffff },
        119 => { 0xffffffffffffffffffffffffffffff },
        120 => { 0x1ffffffffffffffffffffffffffffff },
        121 => { 0x3ffffffffffffffffffffffffffffff },
        122 => { 0x7ffffffffffffffffffffffffffffff },
        123 => { 0xfffffffffffffffffffffffffffffff },
        124 => { 0x1fffffffffffffffffffffffffffffff },
        125 => { 0x3fffffffffffffffffffffffffffffff },
        126 => { 0x7fffffffffffffffffffffffffffffff },
        _ => {
            assert(n == 127, 'mask');
            0xffffffffffffffffffffffffffffffff
        }
    }
}
